"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
var exports = {};
exports.id = "pages/api/fetchRepo";
exports.ids = ["pages/api/fetchRepo"];
exports.modules = {

/***/ "next-auth/react":
/*!**********************************!*\
  !*** external "next-auth/react" ***!
  \**********************************/
/***/ ((module) => {

module.exports = require("next-auth/react");

/***/ }),

/***/ "next/dist/compiled/next-server/pages-api.runtime.dev.js":
/*!**************************************************************************!*\
  !*** external "next/dist/compiled/next-server/pages-api.runtime.dev.js" ***!
  \**************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/compiled/next-server/pages-api.runtime.dev.js");

/***/ }),

/***/ "(api)/./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES_API&page=%2Fapi%2FfetchRepo&preferredRegion=&absolutePagePath=.%2Fpages%5Capi%5CfetchRepo.js&middlewareConfigBase64=e30%3D!":
/*!************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES_API&page=%2Fapi%2FfetchRepo&preferredRegion=&absolutePagePath=.%2Fpages%5Capi%5CfetchRepo.js&middlewareConfigBase64=e30%3D! ***!
  \************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   config: () => (/* binding */ config),\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__),\n/* harmony export */   routeModule: () => (/* binding */ routeModule)\n/* harmony export */ });\n/* harmony import */ var next_dist_server_route_modules_pages_api_module_compiled__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/server/route-modules/pages-api/module.compiled */ \"(api)/./node_modules/next/dist/server/route-modules/pages-api/module.compiled.js\");\n/* harmony import */ var next_dist_server_route_modules_pages_api_module_compiled__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_route_modules_pages_api_module_compiled__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_dist_server_route_kind__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/dist/server/route-kind */ \"(api)/./node_modules/next/dist/server/route-kind.js\");\n/* harmony import */ var next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/dist/build/templates/helpers */ \"(api)/./node_modules/next/dist/build/templates/helpers.js\");\n/* harmony import */ var _pages_api_fetchRepo_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./pages\\api\\fetchRepo.js */ \"(api)/./pages/api/fetchRepo.js\");\n\n\n\n// Import the userland code.\n\n// Re-export the handler (should be the default export).\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ((0,next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__.hoist)(_pages_api_fetchRepo_js__WEBPACK_IMPORTED_MODULE_3__, 'default'));\n// Re-export config.\nconst config = (0,next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__.hoist)(_pages_api_fetchRepo_js__WEBPACK_IMPORTED_MODULE_3__, 'config');\n// Create and export the route module that will be consumed.\nconst routeModule = new next_dist_server_route_modules_pages_api_module_compiled__WEBPACK_IMPORTED_MODULE_0__.PagesAPIRouteModule({\n    definition: {\n        kind: next_dist_server_route_kind__WEBPACK_IMPORTED_MODULE_1__.RouteKind.PAGES_API,\n        page: \"/api/fetchRepo\",\n        pathname: \"/api/fetchRepo\",\n        // The following aren't used in production.\n        bundlePath: '',\n        filename: ''\n    },\n    userland: _pages_api_fetchRepo_js__WEBPACK_IMPORTED_MODULE_3__\n});\n\n//# sourceMappingURL=pages-api.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwaSkvLi9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2J1aWxkL3dlYnBhY2svbG9hZGVycy9uZXh0LXJvdXRlLWxvYWRlci9pbmRleC5qcz9raW5kPVBBR0VTX0FQSSZwYWdlPSUyRmFwaSUyRmZldGNoUmVwbyZwcmVmZXJyZWRSZWdpb249JmFic29sdXRlUGFnZVBhdGg9LiUyRnBhZ2VzJTVDYXBpJTVDZmV0Y2hSZXBvLmpzJm1pZGRsZXdhcmVDb25maWdCYXNlNjQ9ZTMwJTNEISIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7OztBQUErRjtBQUN2QztBQUNFO0FBQzFEO0FBQ3VEO0FBQ3ZEO0FBQ0EsaUVBQWUsd0VBQUssQ0FBQyxvREFBUSxZQUFZLEVBQUM7QUFDMUM7QUFDTyxlQUFlLHdFQUFLLENBQUMsb0RBQVE7QUFDcEM7QUFDTyx3QkFBd0IseUdBQW1CO0FBQ2xEO0FBQ0EsY0FBYyxrRUFBUztBQUN2QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMLFlBQVk7QUFDWixDQUFDOztBQUVEIiwic291cmNlcyI6WyIiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgUGFnZXNBUElSb3V0ZU1vZHVsZSB9IGZyb20gXCJuZXh0L2Rpc3Qvc2VydmVyL3JvdXRlLW1vZHVsZXMvcGFnZXMtYXBpL21vZHVsZS5jb21waWxlZFwiO1xuaW1wb3J0IHsgUm91dGVLaW5kIH0gZnJvbSBcIm5leHQvZGlzdC9zZXJ2ZXIvcm91dGUta2luZFwiO1xuaW1wb3J0IHsgaG9pc3QgfSBmcm9tIFwibmV4dC9kaXN0L2J1aWxkL3RlbXBsYXRlcy9oZWxwZXJzXCI7XG4vLyBJbXBvcnQgdGhlIHVzZXJsYW5kIGNvZGUuXG5pbXBvcnQgKiBhcyB1c2VybGFuZCBmcm9tIFwiLi9wYWdlc1xcXFxhcGlcXFxcZmV0Y2hSZXBvLmpzXCI7XG4vLyBSZS1leHBvcnQgdGhlIGhhbmRsZXIgKHNob3VsZCBiZSB0aGUgZGVmYXVsdCBleHBvcnQpLlxuZXhwb3J0IGRlZmF1bHQgaG9pc3QodXNlcmxhbmQsICdkZWZhdWx0Jyk7XG4vLyBSZS1leHBvcnQgY29uZmlnLlxuZXhwb3J0IGNvbnN0IGNvbmZpZyA9IGhvaXN0KHVzZXJsYW5kLCAnY29uZmlnJyk7XG4vLyBDcmVhdGUgYW5kIGV4cG9ydCB0aGUgcm91dGUgbW9kdWxlIHRoYXQgd2lsbCBiZSBjb25zdW1lZC5cbmV4cG9ydCBjb25zdCByb3V0ZU1vZHVsZSA9IG5ldyBQYWdlc0FQSVJvdXRlTW9kdWxlKHtcbiAgICBkZWZpbml0aW9uOiB7XG4gICAgICAgIGtpbmQ6IFJvdXRlS2luZC5QQUdFU19BUEksXG4gICAgICAgIHBhZ2U6IFwiL2FwaS9mZXRjaFJlcG9cIixcbiAgICAgICAgcGF0aG5hbWU6IFwiL2FwaS9mZXRjaFJlcG9cIixcbiAgICAgICAgLy8gVGhlIGZvbGxvd2luZyBhcmVuJ3QgdXNlZCBpbiBwcm9kdWN0aW9uLlxuICAgICAgICBidW5kbGVQYXRoOiAnJyxcbiAgICAgICAgZmlsZW5hbWU6ICcnXG4gICAgfSxcbiAgICB1c2VybGFuZFxufSk7XG5cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXBhZ2VzLWFwaS5qcy5tYXAiXSwibmFtZXMiOltdLCJpZ25vcmVMaXN0IjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(api)/./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES_API&page=%2Fapi%2FfetchRepo&preferredRegion=&absolutePagePath=.%2Fpages%5Capi%5CfetchRepo.js&middlewareConfigBase64=e30%3D!\n");

/***/ }),

/***/ "(api)/./pages/api/fetchRepo.js":
/*!********************************!*\
  !*** ./pages/api/fetchRepo.js ***!
  \********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ handler)\n/* harmony export */ });\n/* harmony import */ var next_auth_react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next-auth/react */ \"next-auth/react\");\n/* harmony import */ var next_auth_react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(next_auth_react__WEBPACK_IMPORTED_MODULE_0__);\n// pages/api/fetchRepo.js\n\n// A simple helper to approximate token count (roughly, 1 token ≈ 4 characters)\nfunction estimateTokenCount(text) {\n    return Math.ceil(text.length / 4);\n}\n// Build a nested object representing the folder structure.\nfunction buildFolderTree(tree) {\n    const folderTree = {};\n    for (const item of tree){\n        const parts = item.path.split(\"/\");\n        let current = folderTree;\n        for (const part of parts){\n            if (!current[part]) {\n                current[part] = {};\n            }\n            current = current[part];\n        }\n    }\n    return folderTree;\n}\n// Recursively render the folder tree as a visual text tree.\nfunction renderTree(tree, prefix = \"\") {\n    let output = \"\";\n    const keys = Object.keys(tree).sort();\n    keys.forEach((key, index)=>{\n        const isLast = index === keys.length - 1;\n        output += `${prefix}${isLast ? \"└── \" : \"├── \"}${key}\\n`;\n        const newPrefix = prefix + (isLast ? \"    \" : \"│   \");\n        output += renderTree(tree[key], newPrefix);\n    });\n    return output;\n}\nasync function handler(req, res) {\n    const { owner, repo, branch } = req.query;\n    // Parse exclusions if provided (expected as JSON-encoded array).\n    let exclusions = [];\n    if (req.query.exclusions) {\n        try {\n            exclusions = JSON.parse(req.query.exclusions);\n        } catch (error) {\n            console.error(\"Error parsing exclusions:\", error);\n            exclusions = [];\n        }\n    }\n    const session = await (0,next_auth_react__WEBPACK_IMPORTED_MODULE_0__.getSession)({\n        req\n    });\n    if (!session) {\n        return res.status(401).json({\n            error: \"Unauthorized\"\n        });\n    }\n    const accessToken = session.accessToken;\n    try {\n        // 1. Get branch details to retrieve the commit SHA.\n        const branchRes = await fetch(`https://api.github.com/repos/${owner}/${repo}/branches/${branch}`, {\n            headers: {\n                Authorization: `token ${accessToken}`\n            }\n        });\n        const branchData = await branchRes.json();\n        if (branchData.message) {\n            return res.status(400).json({\n                error: branchData.message\n            });\n        }\n        const commitSha = branchData.commit.sha;\n        // 2. Get repository tree recursively.\n        const treeRes = await fetch(`https://api.github.com/repos/${owner}/${repo}/git/trees/${commitSha}?recursive=1`, {\n            headers: {\n                Authorization: `token ${accessToken}`\n            }\n        });\n        const treeData = await treeRes.json();\n        if (treeData.message) {\n            return res.status(400).json({\n                error: treeData.message\n            });\n        }\n        const tree = treeData.tree;\n        // 3. Build the folder structure output.\n        const folderTreeObj = buildFolderTree(tree);\n        const folderStructureString = renderTree(folderTreeObj);\n        let totalTokens = 0;\n        // Begin output with repo details and folder structure (in a code fence).\n        let outputText = `# Repository: ${owner}/${repo}\\n**Branch:** ${branch}\\n\\n`;\n        outputText += `## Folder Structure:\\n\\`\\`\\`\\n${folderStructureString}\\n\\`\\`\\`\\n\\n`;\n        // 4. Process each file in the repository tree.\n        for (const item of tree){\n            if (item.type !== \"blob\") continue;\n            // Skip likely binary files.\n            const binaryExtensions = [\n                \".png\",\n                \".jpg\",\n                \".jpeg\",\n                \".gif\",\n                \".svg\",\n                \".ico\",\n                \".pdf\",\n                \".exe\"\n            ];\n            if (binaryExtensions.some((ext)=>item.path.toLowerCase().endsWith(ext))) {\n                continue;\n            }\n            // Skip if the file path is within an excluded folder/file.\n            if (exclusions.some((excludedPath)=>item.path.startsWith(excludedPath))) {\n                continue;\n            }\n            // Fetch the file content.\n            const blobRes = await fetch(item.url, {\n                headers: {\n                    Authorization: `token ${accessToken}`\n                }\n            });\n            const blobData = await blobRes.json();\n            if (blobData.encoding !== \"base64\" || !blobData.content) continue;\n            let content = Buffer.from(blobData.content, \"base64\").toString(\"utf-8\");\n            // Estimate token count for the file.\n            let fileTokens = estimateTokenCount(content);\n            outputText += `## File: ${item.path}\\n\\`\\`\\`\\n${content}\\n\\`\\`\\`\\n\\n`;\n            totalTokens += fileTokens;\n        }\n        res.status(200).json({\n            text: outputText,\n            totalTokens\n        });\n    } catch (error) {\n        console.error(\"Error fetching repository:\", error);\n        res.status(500).json({\n            error: \"Internal Server Error\"\n        });\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwaSkvLi9wYWdlcy9hcGkvZmV0Y2hSZXBvLmpzIiwibWFwcGluZ3MiOiI7Ozs7OztBQUFBLHlCQUF5QjtBQUNvQjtBQUU3QywrRUFBK0U7QUFDL0UsU0FBU0MsbUJBQW1CQyxJQUFJO0lBQzlCLE9BQU9DLEtBQUtDLElBQUksQ0FBQ0YsS0FBS0csTUFBTSxHQUFHO0FBQ2pDO0FBRUEsMkRBQTJEO0FBQzNELFNBQVNDLGdCQUFnQkMsSUFBSTtJQUMzQixNQUFNQyxhQUFhLENBQUM7SUFDcEIsS0FBSyxNQUFNQyxRQUFRRixLQUFNO1FBQ3ZCLE1BQU1HLFFBQVFELEtBQUtFLElBQUksQ0FBQ0MsS0FBSyxDQUFDO1FBQzlCLElBQUlDLFVBQVVMO1FBQ2QsS0FBSyxNQUFNTSxRQUFRSixNQUFPO1lBQ3hCLElBQUksQ0FBQ0csT0FBTyxDQUFDQyxLQUFLLEVBQUU7Z0JBQ2xCRCxPQUFPLENBQUNDLEtBQUssR0FBRyxDQUFDO1lBQ25CO1lBQ0FELFVBQVVBLE9BQU8sQ0FBQ0MsS0FBSztRQUN6QjtJQUNGO0lBQ0EsT0FBT047QUFDVDtBQUVBLDREQUE0RDtBQUM1RCxTQUFTTyxXQUFXUixJQUFJLEVBQUVTLFNBQVMsRUFBRTtJQUNuQyxJQUFJQyxTQUFTO0lBQ2IsTUFBTUMsT0FBT0MsT0FBT0QsSUFBSSxDQUFDWCxNQUFNYSxJQUFJO0lBQ25DRixLQUFLRyxPQUFPLENBQUMsQ0FBQ0MsS0FBS0M7UUFDakIsTUFBTUMsU0FBU0QsVUFBVUwsS0FBS2IsTUFBTSxHQUFHO1FBQ3ZDWSxVQUFVLEdBQUdELFNBQVNRLFNBQVMsU0FBUyxTQUFTRixJQUFJLEVBQUUsQ0FBQztRQUN4RCxNQUFNRyxZQUFZVCxTQUFVUSxDQUFBQSxTQUFTLFNBQVMsTUFBSztRQUNuRFAsVUFBVUYsV0FBV1IsSUFBSSxDQUFDZSxJQUFJLEVBQUVHO0lBQ2xDO0lBQ0EsT0FBT1I7QUFDVDtBQUVlLGVBQWVTLFFBQVFDLEdBQUcsRUFBRUMsR0FBRztJQUM1QyxNQUFNLEVBQUVDLEtBQUssRUFBRUMsSUFBSSxFQUFFQyxNQUFNLEVBQUUsR0FBR0osSUFBSUssS0FBSztJQUN6QyxpRUFBaUU7SUFDakUsSUFBSUMsYUFBYSxFQUFFO0lBQ25CLElBQUlOLElBQUlLLEtBQUssQ0FBQ0MsVUFBVSxFQUFFO1FBQ3hCLElBQUk7WUFDRkEsYUFBYUMsS0FBS0MsS0FBSyxDQUFDUixJQUFJSyxLQUFLLENBQUNDLFVBQVU7UUFDOUMsRUFBRSxPQUFPRyxPQUFPO1lBQ2RDLFFBQVFELEtBQUssQ0FBQyw2QkFBNkJBO1lBQzNDSCxhQUFhLEVBQUU7UUFDakI7SUFDRjtJQUVBLE1BQU1LLFVBQVUsTUFBTXRDLDJEQUFVQSxDQUFDO1FBQUUyQjtJQUFJO0lBQ3ZDLElBQUksQ0FBQ1csU0FBUztRQUNaLE9BQU9WLElBQUlXLE1BQU0sQ0FBQyxLQUFLQyxJQUFJLENBQUM7WUFBRUosT0FBTztRQUFlO0lBQ3REO0lBQ0EsTUFBTUssY0FBY0gsUUFBUUcsV0FBVztJQUV2QyxJQUFJO1FBQ0Ysb0RBQW9EO1FBQ3BELE1BQU1DLFlBQVksTUFBTUMsTUFDdEIsQ0FBQyw2QkFBNkIsRUFBRWQsTUFBTSxDQUFDLEVBQUVDLEtBQUssVUFBVSxFQUFFQyxRQUFRLEVBQ2xFO1lBQ0VhLFNBQVM7Z0JBQUVDLGVBQWUsQ0FBQyxNQUFNLEVBQUVKLGFBQWE7WUFBQztRQUNuRDtRQUVGLE1BQU1LLGFBQWEsTUFBTUosVUFBVUYsSUFBSTtRQUN2QyxJQUFJTSxXQUFXQyxPQUFPLEVBQUU7WUFDdEIsT0FBT25CLElBQUlXLE1BQU0sQ0FBQyxLQUFLQyxJQUFJLENBQUM7Z0JBQUVKLE9BQU9VLFdBQVdDLE9BQU87WUFBQztRQUMxRDtRQUNBLE1BQU1DLFlBQVlGLFdBQVdHLE1BQU0sQ0FBQ0MsR0FBRztRQUV2QyxzQ0FBc0M7UUFDdEMsTUFBTUMsVUFBVSxNQUFNUixNQUNwQixDQUFDLDZCQUE2QixFQUFFZCxNQUFNLENBQUMsRUFBRUMsS0FBSyxXQUFXLEVBQUVrQixVQUFVLFlBQVksQ0FBQyxFQUNsRjtZQUNFSixTQUFTO2dCQUFFQyxlQUFlLENBQUMsTUFBTSxFQUFFSixhQUFhO1lBQUM7UUFDbkQ7UUFFRixNQUFNVyxXQUFXLE1BQU1ELFFBQVFYLElBQUk7UUFDbkMsSUFBSVksU0FBU0wsT0FBTyxFQUFFO1lBQ3BCLE9BQU9uQixJQUFJVyxNQUFNLENBQUMsS0FBS0MsSUFBSSxDQUFDO2dCQUFFSixPQUFPZ0IsU0FBU0wsT0FBTztZQUFDO1FBQ3hEO1FBQ0EsTUFBTXhDLE9BQU82QyxTQUFTN0MsSUFBSTtRQUUxQix3Q0FBd0M7UUFDeEMsTUFBTThDLGdCQUFnQi9DLGdCQUFnQkM7UUFDdEMsTUFBTStDLHdCQUF3QnZDLFdBQVdzQztRQUV6QyxJQUFJRSxjQUFjO1FBQ2xCLHlFQUF5RTtRQUN6RSxJQUFJQyxhQUFhLENBQUMsY0FBYyxFQUFFM0IsTUFBTSxDQUFDLEVBQUVDLEtBQUssY0FBYyxFQUFFQyxPQUFPLElBQUksQ0FBQztRQUM1RXlCLGNBQWMsQ0FBQyw4QkFBOEIsRUFBRUYsc0JBQXNCLFlBQVksQ0FBQztRQUVsRiwrQ0FBK0M7UUFDL0MsS0FBSyxNQUFNN0MsUUFBUUYsS0FBTTtZQUN2QixJQUFJRSxLQUFLZ0QsSUFBSSxLQUFLLFFBQVE7WUFDMUIsNEJBQTRCO1lBQzVCLE1BQU1DLG1CQUFtQjtnQkFDdkI7Z0JBQ0E7Z0JBQ0E7Z0JBQ0E7Z0JBQ0E7Z0JBQ0E7Z0JBQ0E7Z0JBQ0E7YUFDRDtZQUNELElBQUlBLGlCQUFpQkMsSUFBSSxDQUFDLENBQUNDLE1BQVFuRCxLQUFLRSxJQUFJLENBQUNrRCxXQUFXLEdBQUdDLFFBQVEsQ0FBQ0YsT0FBTztnQkFDekU7WUFDRjtZQUNBLDJEQUEyRDtZQUMzRCxJQUFJM0IsV0FBVzBCLElBQUksQ0FBQyxDQUFDSSxlQUFpQnRELEtBQUtFLElBQUksQ0FBQ3FELFVBQVUsQ0FBQ0QsZ0JBQWdCO2dCQUN6RTtZQUNGO1lBQ0EsMEJBQTBCO1lBQzFCLE1BQU1FLFVBQVUsTUFBTXRCLE1BQU1sQyxLQUFLeUQsR0FBRyxFQUFFO2dCQUNwQ3RCLFNBQVM7b0JBQUVDLGVBQWUsQ0FBQyxNQUFNLEVBQUVKLGFBQWE7Z0JBQUM7WUFDbkQ7WUFDQSxNQUFNMEIsV0FBVyxNQUFNRixRQUFRekIsSUFBSTtZQUNuQyxJQUFJMkIsU0FBU0MsUUFBUSxLQUFLLFlBQVksQ0FBQ0QsU0FBU0UsT0FBTyxFQUFFO1lBQ3pELElBQUlBLFVBQVVDLE9BQU9DLElBQUksQ0FBQ0osU0FBU0UsT0FBTyxFQUFFLFVBQVVHLFFBQVEsQ0FBQztZQUUvRCxxQ0FBcUM7WUFDckMsSUFBSUMsYUFBYXhFLG1CQUFtQm9FO1lBQ3BDYixjQUFjLENBQUMsU0FBUyxFQUFFL0MsS0FBS0UsSUFBSSxDQUFDLFVBQVUsRUFBRTBELFFBQVEsWUFBWSxDQUFDO1lBQ3JFZCxlQUFla0I7UUFDakI7UUFDQTdDLElBQUlXLE1BQU0sQ0FBQyxLQUFLQyxJQUFJLENBQUM7WUFBRXRDLE1BQU1zRDtZQUFZRDtRQUFZO0lBQ3ZELEVBQUUsT0FBT25CLE9BQU87UUFDZEMsUUFBUUQsS0FBSyxDQUFDLDhCQUE4QkE7UUFDNUNSLElBQUlXLE1BQU0sQ0FBQyxLQUFLQyxJQUFJLENBQUM7WUFBRUosT0FBTztRQUF3QjtJQUN4RDtBQUNGIiwic291cmNlcyI6WyJDOlxcVXNlcnNcXGVnbGFzc1xcUHJvamVjdHNcXEdpdFByb21wdFxccGFnZXNcXGFwaVxcZmV0Y2hSZXBvLmpzIl0sInNvdXJjZXNDb250ZW50IjpbIi8vIHBhZ2VzL2FwaS9mZXRjaFJlcG8uanNcclxuaW1wb3J0IHsgZ2V0U2Vzc2lvbiB9IGZyb20gXCJuZXh0LWF1dGgvcmVhY3RcIjtcclxuXHJcbi8vIEEgc2ltcGxlIGhlbHBlciB0byBhcHByb3hpbWF0ZSB0b2tlbiBjb3VudCAocm91Z2hseSwgMSB0b2tlbiDiiYggNCBjaGFyYWN0ZXJzKVxyXG5mdW5jdGlvbiBlc3RpbWF0ZVRva2VuQ291bnQodGV4dCkge1xyXG4gIHJldHVybiBNYXRoLmNlaWwodGV4dC5sZW5ndGggLyA0KTtcclxufVxyXG5cclxuLy8gQnVpbGQgYSBuZXN0ZWQgb2JqZWN0IHJlcHJlc2VudGluZyB0aGUgZm9sZGVyIHN0cnVjdHVyZS5cclxuZnVuY3Rpb24gYnVpbGRGb2xkZXJUcmVlKHRyZWUpIHtcclxuICBjb25zdCBmb2xkZXJUcmVlID0ge307XHJcbiAgZm9yIChjb25zdCBpdGVtIG9mIHRyZWUpIHtcclxuICAgIGNvbnN0IHBhcnRzID0gaXRlbS5wYXRoLnNwbGl0KFwiL1wiKTtcclxuICAgIGxldCBjdXJyZW50ID0gZm9sZGVyVHJlZTtcclxuICAgIGZvciAoY29uc3QgcGFydCBvZiBwYXJ0cykge1xyXG4gICAgICBpZiAoIWN1cnJlbnRbcGFydF0pIHtcclxuICAgICAgICBjdXJyZW50W3BhcnRdID0ge307XHJcbiAgICAgIH1cclxuICAgICAgY3VycmVudCA9IGN1cnJlbnRbcGFydF07XHJcbiAgICB9XHJcbiAgfVxyXG4gIHJldHVybiBmb2xkZXJUcmVlO1xyXG59XHJcblxyXG4vLyBSZWN1cnNpdmVseSByZW5kZXIgdGhlIGZvbGRlciB0cmVlIGFzIGEgdmlzdWFsIHRleHQgdHJlZS5cclxuZnVuY3Rpb24gcmVuZGVyVHJlZSh0cmVlLCBwcmVmaXggPSBcIlwiKSB7XHJcbiAgbGV0IG91dHB1dCA9IFwiXCI7XHJcbiAgY29uc3Qga2V5cyA9IE9iamVjdC5rZXlzKHRyZWUpLnNvcnQoKTtcclxuICBrZXlzLmZvckVhY2goKGtleSwgaW5kZXgpID0+IHtcclxuICAgIGNvbnN0IGlzTGFzdCA9IGluZGV4ID09PSBrZXlzLmxlbmd0aCAtIDE7XHJcbiAgICBvdXRwdXQgKz0gYCR7cHJlZml4fSR7aXNMYXN0ID8gXCLilJTilIDilIAgXCIgOiBcIuKUnOKUgOKUgCBcIn0ke2tleX1cXG5gO1xyXG4gICAgY29uc3QgbmV3UHJlZml4ID0gcHJlZml4ICsgKGlzTGFzdCA/IFwiICAgIFwiIDogXCLilIIgICBcIik7XHJcbiAgICBvdXRwdXQgKz0gcmVuZGVyVHJlZSh0cmVlW2tleV0sIG5ld1ByZWZpeCk7XHJcbiAgfSk7XHJcbiAgcmV0dXJuIG91dHB1dDtcclxufVxyXG5cclxuZXhwb3J0IGRlZmF1bHQgYXN5bmMgZnVuY3Rpb24gaGFuZGxlcihyZXEsIHJlcykge1xyXG4gIGNvbnN0IHsgb3duZXIsIHJlcG8sIGJyYW5jaCB9ID0gcmVxLnF1ZXJ5O1xyXG4gIC8vIFBhcnNlIGV4Y2x1c2lvbnMgaWYgcHJvdmlkZWQgKGV4cGVjdGVkIGFzIEpTT04tZW5jb2RlZCBhcnJheSkuXHJcbiAgbGV0IGV4Y2x1c2lvbnMgPSBbXTtcclxuICBpZiAocmVxLnF1ZXJ5LmV4Y2x1c2lvbnMpIHtcclxuICAgIHRyeSB7XHJcbiAgICAgIGV4Y2x1c2lvbnMgPSBKU09OLnBhcnNlKHJlcS5xdWVyeS5leGNsdXNpb25zKTtcclxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgIGNvbnNvbGUuZXJyb3IoXCJFcnJvciBwYXJzaW5nIGV4Y2x1c2lvbnM6XCIsIGVycm9yKTtcclxuICAgICAgZXhjbHVzaW9ucyA9IFtdO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgY29uc3Qgc2Vzc2lvbiA9IGF3YWl0IGdldFNlc3Npb24oeyByZXEgfSk7XHJcbiAgaWYgKCFzZXNzaW9uKSB7XHJcbiAgICByZXR1cm4gcmVzLnN0YXR1cyg0MDEpLmpzb24oeyBlcnJvcjogXCJVbmF1dGhvcml6ZWRcIiB9KTtcclxuICB9XHJcbiAgY29uc3QgYWNjZXNzVG9rZW4gPSBzZXNzaW9uLmFjY2Vzc1Rva2VuO1xyXG5cclxuICB0cnkge1xyXG4gICAgLy8gMS4gR2V0IGJyYW5jaCBkZXRhaWxzIHRvIHJldHJpZXZlIHRoZSBjb21taXQgU0hBLlxyXG4gICAgY29uc3QgYnJhbmNoUmVzID0gYXdhaXQgZmV0Y2goXHJcbiAgICAgIGBodHRwczovL2FwaS5naXRodWIuY29tL3JlcG9zLyR7b3duZXJ9LyR7cmVwb30vYnJhbmNoZXMvJHticmFuY2h9YCxcclxuICAgICAge1xyXG4gICAgICAgIGhlYWRlcnM6IHsgQXV0aG9yaXphdGlvbjogYHRva2VuICR7YWNjZXNzVG9rZW59YCB9LFxyXG4gICAgICB9XHJcbiAgICApO1xyXG4gICAgY29uc3QgYnJhbmNoRGF0YSA9IGF3YWl0IGJyYW5jaFJlcy5qc29uKCk7XHJcbiAgICBpZiAoYnJhbmNoRGF0YS5tZXNzYWdlKSB7XHJcbiAgICAgIHJldHVybiByZXMuc3RhdHVzKDQwMCkuanNvbih7IGVycm9yOiBicmFuY2hEYXRhLm1lc3NhZ2UgfSk7XHJcbiAgICB9XHJcbiAgICBjb25zdCBjb21taXRTaGEgPSBicmFuY2hEYXRhLmNvbW1pdC5zaGE7XHJcblxyXG4gICAgLy8gMi4gR2V0IHJlcG9zaXRvcnkgdHJlZSByZWN1cnNpdmVseS5cclxuICAgIGNvbnN0IHRyZWVSZXMgPSBhd2FpdCBmZXRjaChcclxuICAgICAgYGh0dHBzOi8vYXBpLmdpdGh1Yi5jb20vcmVwb3MvJHtvd25lcn0vJHtyZXBvfS9naXQvdHJlZXMvJHtjb21taXRTaGF9P3JlY3Vyc2l2ZT0xYCxcclxuICAgICAge1xyXG4gICAgICAgIGhlYWRlcnM6IHsgQXV0aG9yaXphdGlvbjogYHRva2VuICR7YWNjZXNzVG9rZW59YCB9LFxyXG4gICAgICB9XHJcbiAgICApO1xyXG4gICAgY29uc3QgdHJlZURhdGEgPSBhd2FpdCB0cmVlUmVzLmpzb24oKTtcclxuICAgIGlmICh0cmVlRGF0YS5tZXNzYWdlKSB7XHJcbiAgICAgIHJldHVybiByZXMuc3RhdHVzKDQwMCkuanNvbih7IGVycm9yOiB0cmVlRGF0YS5tZXNzYWdlIH0pO1xyXG4gICAgfVxyXG4gICAgY29uc3QgdHJlZSA9IHRyZWVEYXRhLnRyZWU7XHJcblxyXG4gICAgLy8gMy4gQnVpbGQgdGhlIGZvbGRlciBzdHJ1Y3R1cmUgb3V0cHV0LlxyXG4gICAgY29uc3QgZm9sZGVyVHJlZU9iaiA9IGJ1aWxkRm9sZGVyVHJlZSh0cmVlKTtcclxuICAgIGNvbnN0IGZvbGRlclN0cnVjdHVyZVN0cmluZyA9IHJlbmRlclRyZWUoZm9sZGVyVHJlZU9iaik7XHJcblxyXG4gICAgbGV0IHRvdGFsVG9rZW5zID0gMDtcclxuICAgIC8vIEJlZ2luIG91dHB1dCB3aXRoIHJlcG8gZGV0YWlscyBhbmQgZm9sZGVyIHN0cnVjdHVyZSAoaW4gYSBjb2RlIGZlbmNlKS5cclxuICAgIGxldCBvdXRwdXRUZXh0ID0gYCMgUmVwb3NpdG9yeTogJHtvd25lcn0vJHtyZXBvfVxcbioqQnJhbmNoOioqICR7YnJhbmNofVxcblxcbmA7XHJcbiAgICBvdXRwdXRUZXh0ICs9IGAjIyBGb2xkZXIgU3RydWN0dXJlOlxcblxcYFxcYFxcYFxcbiR7Zm9sZGVyU3RydWN0dXJlU3RyaW5nfVxcblxcYFxcYFxcYFxcblxcbmA7XHJcblxyXG4gICAgLy8gNC4gUHJvY2VzcyBlYWNoIGZpbGUgaW4gdGhlIHJlcG9zaXRvcnkgdHJlZS5cclxuICAgIGZvciAoY29uc3QgaXRlbSBvZiB0cmVlKSB7XHJcbiAgICAgIGlmIChpdGVtLnR5cGUgIT09IFwiYmxvYlwiKSBjb250aW51ZTtcclxuICAgICAgLy8gU2tpcCBsaWtlbHkgYmluYXJ5IGZpbGVzLlxyXG4gICAgICBjb25zdCBiaW5hcnlFeHRlbnNpb25zID0gW1xyXG4gICAgICAgIFwiLnBuZ1wiLFxyXG4gICAgICAgIFwiLmpwZ1wiLFxyXG4gICAgICAgIFwiLmpwZWdcIixcclxuICAgICAgICBcIi5naWZcIixcclxuICAgICAgICBcIi5zdmdcIixcclxuICAgICAgICBcIi5pY29cIixcclxuICAgICAgICBcIi5wZGZcIixcclxuICAgICAgICBcIi5leGVcIixcclxuICAgICAgXTtcclxuICAgICAgaWYgKGJpbmFyeUV4dGVuc2lvbnMuc29tZSgoZXh0KSA9PiBpdGVtLnBhdGgudG9Mb3dlckNhc2UoKS5lbmRzV2l0aChleHQpKSkge1xyXG4gICAgICAgIGNvbnRpbnVlO1xyXG4gICAgICB9XHJcbiAgICAgIC8vIFNraXAgaWYgdGhlIGZpbGUgcGF0aCBpcyB3aXRoaW4gYW4gZXhjbHVkZWQgZm9sZGVyL2ZpbGUuXHJcbiAgICAgIGlmIChleGNsdXNpb25zLnNvbWUoKGV4Y2x1ZGVkUGF0aCkgPT4gaXRlbS5wYXRoLnN0YXJ0c1dpdGgoZXhjbHVkZWRQYXRoKSkpIHtcclxuICAgICAgICBjb250aW51ZTtcclxuICAgICAgfVxyXG4gICAgICAvLyBGZXRjaCB0aGUgZmlsZSBjb250ZW50LlxyXG4gICAgICBjb25zdCBibG9iUmVzID0gYXdhaXQgZmV0Y2goaXRlbS51cmwsIHtcclxuICAgICAgICBoZWFkZXJzOiB7IEF1dGhvcml6YXRpb246IGB0b2tlbiAke2FjY2Vzc1Rva2VufWAgfSxcclxuICAgICAgfSk7XHJcbiAgICAgIGNvbnN0IGJsb2JEYXRhID0gYXdhaXQgYmxvYlJlcy5qc29uKCk7XHJcbiAgICAgIGlmIChibG9iRGF0YS5lbmNvZGluZyAhPT0gXCJiYXNlNjRcIiB8fCAhYmxvYkRhdGEuY29udGVudCkgY29udGludWU7XHJcbiAgICAgIGxldCBjb250ZW50ID0gQnVmZmVyLmZyb20oYmxvYkRhdGEuY29udGVudCwgXCJiYXNlNjRcIikudG9TdHJpbmcoXCJ1dGYtOFwiKTtcclxuXHJcbiAgICAgIC8vIEVzdGltYXRlIHRva2VuIGNvdW50IGZvciB0aGUgZmlsZS5cclxuICAgICAgbGV0IGZpbGVUb2tlbnMgPSBlc3RpbWF0ZVRva2VuQ291bnQoY29udGVudCk7XHJcbiAgICAgIG91dHB1dFRleHQgKz0gYCMjIEZpbGU6ICR7aXRlbS5wYXRofVxcblxcYFxcYFxcYFxcbiR7Y29udGVudH1cXG5cXGBcXGBcXGBcXG5cXG5gO1xyXG4gICAgICB0b3RhbFRva2VucyArPSBmaWxlVG9rZW5zO1xyXG4gICAgfVxyXG4gICAgcmVzLnN0YXR1cygyMDApLmpzb24oeyB0ZXh0OiBvdXRwdXRUZXh0LCB0b3RhbFRva2VucyB9KTtcclxuICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgY29uc29sZS5lcnJvcihcIkVycm9yIGZldGNoaW5nIHJlcG9zaXRvcnk6XCIsIGVycm9yKTtcclxuICAgIHJlcy5zdGF0dXMoNTAwKS5qc29uKHsgZXJyb3I6IFwiSW50ZXJuYWwgU2VydmVyIEVycm9yXCIgfSk7XHJcbiAgfVxyXG59XHJcbiJdLCJuYW1lcyI6WyJnZXRTZXNzaW9uIiwiZXN0aW1hdGVUb2tlbkNvdW50IiwidGV4dCIsIk1hdGgiLCJjZWlsIiwibGVuZ3RoIiwiYnVpbGRGb2xkZXJUcmVlIiwidHJlZSIsImZvbGRlclRyZWUiLCJpdGVtIiwicGFydHMiLCJwYXRoIiwic3BsaXQiLCJjdXJyZW50IiwicGFydCIsInJlbmRlclRyZWUiLCJwcmVmaXgiLCJvdXRwdXQiLCJrZXlzIiwiT2JqZWN0Iiwic29ydCIsImZvckVhY2giLCJrZXkiLCJpbmRleCIsImlzTGFzdCIsIm5ld1ByZWZpeCIsImhhbmRsZXIiLCJyZXEiLCJyZXMiLCJvd25lciIsInJlcG8iLCJicmFuY2giLCJxdWVyeSIsImV4Y2x1c2lvbnMiLCJKU09OIiwicGFyc2UiLCJlcnJvciIsImNvbnNvbGUiLCJzZXNzaW9uIiwic3RhdHVzIiwianNvbiIsImFjY2Vzc1Rva2VuIiwiYnJhbmNoUmVzIiwiZmV0Y2giLCJoZWFkZXJzIiwiQXV0aG9yaXphdGlvbiIsImJyYW5jaERhdGEiLCJtZXNzYWdlIiwiY29tbWl0U2hhIiwiY29tbWl0Iiwic2hhIiwidHJlZVJlcyIsInRyZWVEYXRhIiwiZm9sZGVyVHJlZU9iaiIsImZvbGRlclN0cnVjdHVyZVN0cmluZyIsInRvdGFsVG9rZW5zIiwib3V0cHV0VGV4dCIsInR5cGUiLCJiaW5hcnlFeHRlbnNpb25zIiwic29tZSIsImV4dCIsInRvTG93ZXJDYXNlIiwiZW5kc1dpdGgiLCJleGNsdWRlZFBhdGgiLCJzdGFydHNXaXRoIiwiYmxvYlJlcyIsInVybCIsImJsb2JEYXRhIiwiZW5jb2RpbmciLCJjb250ZW50IiwiQnVmZmVyIiwiZnJvbSIsInRvU3RyaW5nIiwiZmlsZVRva2VucyJdLCJpZ25vcmVMaXN0IjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(api)/./pages/api/fetchRepo.js\n");

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../../webpack-api-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = __webpack_require__.X(0, ["vendor-chunks/next"], () => (__webpack_exec__("(api)/./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES_API&page=%2Fapi%2FfetchRepo&preferredRegion=&absolutePagePath=.%2Fpages%5Capi%5CfetchRepo.js&middlewareConfigBase64=e30%3D!")));
module.exports = __webpack_exports__;

})();