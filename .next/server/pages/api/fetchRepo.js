"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
var exports = {};
exports.id = "pages/api/fetchRepo";
exports.ids = ["pages/api/fetchRepo"];
exports.modules = {

/***/ "next-auth/react":
/*!**********************************!*\
  !*** external "next-auth/react" ***!
  \**********************************/
/***/ ((module) => {

module.exports = require("next-auth/react");

/***/ }),

/***/ "next/dist/compiled/next-server/pages-api.runtime.dev.js":
/*!**************************************************************************!*\
  !*** external "next/dist/compiled/next-server/pages-api.runtime.dev.js" ***!
  \**************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/compiled/next-server/pages-api.runtime.dev.js");

/***/ }),

/***/ "(api)/./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES_API&page=%2Fapi%2FfetchRepo&preferredRegion=&absolutePagePath=.%2Fpages%5Capi%5CfetchRepo.js&middlewareConfigBase64=e30%3D!":
/*!************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES_API&page=%2Fapi%2FfetchRepo&preferredRegion=&absolutePagePath=.%2Fpages%5Capi%5CfetchRepo.js&middlewareConfigBase64=e30%3D! ***!
  \************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   config: () => (/* binding */ config),\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__),\n/* harmony export */   routeModule: () => (/* binding */ routeModule)\n/* harmony export */ });\n/* harmony import */ var next_dist_server_route_modules_pages_api_module_compiled__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/server/route-modules/pages-api/module.compiled */ \"(api)/./node_modules/next/dist/server/route-modules/pages-api/module.compiled.js\");\n/* harmony import */ var next_dist_server_route_modules_pages_api_module_compiled__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_route_modules_pages_api_module_compiled__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_dist_server_route_kind__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/dist/server/route-kind */ \"(api)/./node_modules/next/dist/server/route-kind.js\");\n/* harmony import */ var next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/dist/build/templates/helpers */ \"(api)/./node_modules/next/dist/build/templates/helpers.js\");\n/* harmony import */ var _pages_api_fetchRepo_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./pages\\api\\fetchRepo.js */ \"(api)/./pages/api/fetchRepo.js\");\n\n\n\n// Import the userland code.\n\n// Re-export the handler (should be the default export).\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ((0,next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__.hoist)(_pages_api_fetchRepo_js__WEBPACK_IMPORTED_MODULE_3__, 'default'));\n// Re-export config.\nconst config = (0,next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__.hoist)(_pages_api_fetchRepo_js__WEBPACK_IMPORTED_MODULE_3__, 'config');\n// Create and export the route module that will be consumed.\nconst routeModule = new next_dist_server_route_modules_pages_api_module_compiled__WEBPACK_IMPORTED_MODULE_0__.PagesAPIRouteModule({\n    definition: {\n        kind: next_dist_server_route_kind__WEBPACK_IMPORTED_MODULE_1__.RouteKind.PAGES_API,\n        page: \"/api/fetchRepo\",\n        pathname: \"/api/fetchRepo\",\n        // The following aren't used in production.\n        bundlePath: '',\n        filename: ''\n    },\n    userland: _pages_api_fetchRepo_js__WEBPACK_IMPORTED_MODULE_3__\n});\n\n//# sourceMappingURL=pages-api.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwaSkvLi9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2J1aWxkL3dlYnBhY2svbG9hZGVycy9uZXh0LXJvdXRlLWxvYWRlci9pbmRleC5qcz9raW5kPVBBR0VTX0FQSSZwYWdlPSUyRmFwaSUyRmZldGNoUmVwbyZwcmVmZXJyZWRSZWdpb249JmFic29sdXRlUGFnZVBhdGg9LiUyRnBhZ2VzJTVDYXBpJTVDZmV0Y2hSZXBvLmpzJm1pZGRsZXdhcmVDb25maWdCYXNlNjQ9ZTMwJTNEISIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7OztBQUErRjtBQUN2QztBQUNFO0FBQzFEO0FBQ3VEO0FBQ3ZEO0FBQ0EsaUVBQWUsd0VBQUssQ0FBQyxvREFBUSxZQUFZLEVBQUM7QUFDMUM7QUFDTyxlQUFlLHdFQUFLLENBQUMsb0RBQVE7QUFDcEM7QUFDTyx3QkFBd0IseUdBQW1CO0FBQ2xEO0FBQ0EsY0FBYyxrRUFBUztBQUN2QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMLFlBQVk7QUFDWixDQUFDOztBQUVEIiwic291cmNlcyI6WyIiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgUGFnZXNBUElSb3V0ZU1vZHVsZSB9IGZyb20gXCJuZXh0L2Rpc3Qvc2VydmVyL3JvdXRlLW1vZHVsZXMvcGFnZXMtYXBpL21vZHVsZS5jb21waWxlZFwiO1xuaW1wb3J0IHsgUm91dGVLaW5kIH0gZnJvbSBcIm5leHQvZGlzdC9zZXJ2ZXIvcm91dGUta2luZFwiO1xuaW1wb3J0IHsgaG9pc3QgfSBmcm9tIFwibmV4dC9kaXN0L2J1aWxkL3RlbXBsYXRlcy9oZWxwZXJzXCI7XG4vLyBJbXBvcnQgdGhlIHVzZXJsYW5kIGNvZGUuXG5pbXBvcnQgKiBhcyB1c2VybGFuZCBmcm9tIFwiLi9wYWdlc1xcXFxhcGlcXFxcZmV0Y2hSZXBvLmpzXCI7XG4vLyBSZS1leHBvcnQgdGhlIGhhbmRsZXIgKHNob3VsZCBiZSB0aGUgZGVmYXVsdCBleHBvcnQpLlxuZXhwb3J0IGRlZmF1bHQgaG9pc3QodXNlcmxhbmQsICdkZWZhdWx0Jyk7XG4vLyBSZS1leHBvcnQgY29uZmlnLlxuZXhwb3J0IGNvbnN0IGNvbmZpZyA9IGhvaXN0KHVzZXJsYW5kLCAnY29uZmlnJyk7XG4vLyBDcmVhdGUgYW5kIGV4cG9ydCB0aGUgcm91dGUgbW9kdWxlIHRoYXQgd2lsbCBiZSBjb25zdW1lZC5cbmV4cG9ydCBjb25zdCByb3V0ZU1vZHVsZSA9IG5ldyBQYWdlc0FQSVJvdXRlTW9kdWxlKHtcbiAgICBkZWZpbml0aW9uOiB7XG4gICAgICAgIGtpbmQ6IFJvdXRlS2luZC5QQUdFU19BUEksXG4gICAgICAgIHBhZ2U6IFwiL2FwaS9mZXRjaFJlcG9cIixcbiAgICAgICAgcGF0aG5hbWU6IFwiL2FwaS9mZXRjaFJlcG9cIixcbiAgICAgICAgLy8gVGhlIGZvbGxvd2luZyBhcmVuJ3QgdXNlZCBpbiBwcm9kdWN0aW9uLlxuICAgICAgICBidW5kbGVQYXRoOiAnJyxcbiAgICAgICAgZmlsZW5hbWU6ICcnXG4gICAgfSxcbiAgICB1c2VybGFuZFxufSk7XG5cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXBhZ2VzLWFwaS5qcy5tYXAiXSwibmFtZXMiOltdLCJpZ25vcmVMaXN0IjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(api)/./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES_API&page=%2Fapi%2FfetchRepo&preferredRegion=&absolutePagePath=.%2Fpages%5Capi%5CfetchRepo.js&middlewareConfigBase64=e30%3D!\n");

/***/ }),

/***/ "(api)/./pages/api/fetchRepo.js":
/*!********************************!*\
  !*** ./pages/api/fetchRepo.js ***!
  \********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ handler)\n/* harmony export */ });\n/* harmony import */ var next_auth_react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next-auth/react */ \"next-auth/react\");\n/* harmony import */ var next_auth_react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(next_auth_react__WEBPACK_IMPORTED_MODULE_0__);\n// pages/api/fetchRepo.js\n\n// A simple helper to approximate token count (roughly, 1 token ≈ 4 characters)\nfunction estimateTokenCount(text) {\n    return Math.ceil(text.length / 4);\n}\n// Build a nested object representing the folder structure.\nfunction buildFolderTree(tree) {\n    const folderTree = {};\n    for (const item of tree){\n        const parts = item.path.split(\"/\");\n        let current = folderTree;\n        for (const part of parts){\n            if (!current[part]) {\n                current[part] = {};\n            }\n            current = current[part];\n        }\n    }\n    return folderTree;\n}\n// Recursively render the folder tree as a visual text tree.\nfunction renderTree(tree, prefix = \"\") {\n    let output = \"\";\n    const keys = Object.keys(tree).sort();\n    keys.forEach((key, index)=>{\n        const isLast = index === keys.length - 1;\n        output += `${prefix}${isLast ? \"└── \" : \"├── \"}${key}\\n`;\n        const newPrefix = prefix + (isLast ? \"    \" : \"│   \");\n        output += renderTree(tree[key], newPrefix);\n    });\n    return output;\n}\nasync function handler(req, res) {\n    const { owner, repo, branch } = req.query;\n    // Parse exclusions if provided (expected as JSON-encoded array).\n    let exclusions = [];\n    if (req.query.exclusions) {\n        try {\n            exclusions = JSON.parse(req.query.exclusions);\n        } catch (error) {\n            console.error(\"Error parsing exclusions:\", error);\n            exclusions = [];\n        }\n    }\n    const session = await (0,next_auth_react__WEBPACK_IMPORTED_MODULE_0__.getSession)({\n        req\n    });\n    if (!session) {\n        return res.status(401).json({\n            error: \"Unauthorized\"\n        });\n    }\n    const accessToken = session.accessToken;\n    try {\n        // 1. Get branch details to retrieve the commit SHA.\n        const branchRes = await fetch(`https://api.github.com/repos/${owner}/${repo}/branches/${branch}`, {\n            headers: {\n                Authorization: `token ${accessToken}`\n            }\n        });\n        const branchData = await branchRes.json();\n        if (branchData.message) {\n            return res.status(400).json({\n                error: branchData.message\n            });\n        }\n        const commitSha = branchData.commit.sha;\n        // 2. Get repository tree recursively.\n        const treeRes = await fetch(`https://api.github.com/repos/${owner}/${repo}/git/trees/${commitSha}?recursive=1`, {\n            headers: {\n                Authorization: `token ${accessToken}`\n            }\n        });\n        const treeData = await treeRes.json();\n        if (treeData.message) {\n            return res.status(400).json({\n                error: treeData.message\n            });\n        }\n        const tree = treeData.tree;\n        // 3. Build the folder structure output.\n        const folderTreeObj = buildFolderTree(tree);\n        const folderStructureString = renderTree(folderTreeObj);\n        let totalTokens = 0;\n        const tokenLimit = 150000; // 150k tokens limit\n        // Begin output with repo details and folder structure (in a code fence).\n        let outputText = `# Repository: ${owner}/${repo}\\n**Branch:** ${branch}\\n\\n`;\n        outputText += `## Folder Structure:\\n\\`\\`\\`\\n${folderStructureString}\\n\\`\\`\\`\\n\\n`;\n        // 4. Process each file in the repository tree.\n        for (const item of tree){\n            if (item.type !== \"blob\") continue;\n            // Skip likely binary files.\n            const binaryExtensions = [\n                \".png\",\n                \".jpg\",\n                \".jpeg\",\n                \".gif\",\n                \".svg\",\n                \".ico\",\n                \".pdf\",\n                \".exe\"\n            ];\n            if (binaryExtensions.some((ext)=>item.path.toLowerCase().endsWith(ext))) {\n                continue;\n            }\n            // Skip if the file path is within an excluded folder/file.\n            if (exclusions.some((excludedPath)=>item.path.startsWith(excludedPath))) {\n                continue;\n            }\n            // Fetch the file content.\n            const blobRes = await fetch(item.url, {\n                headers: {\n                    Authorization: `token ${accessToken}`\n                }\n            });\n            const blobData = await blobRes.json();\n            if (blobData.encoding !== \"base64\" || !blobData.content) continue;\n            let content = Buffer.from(blobData.content, \"base64\").toString(\"utf-8\");\n            // Estimate token count for the file.\n            let fileTokens = estimateTokenCount(content);\n            if (totalTokens + fileTokens > tokenLimit) {\n                // Truncate the file if adding it would exceed the limit.\n                const remainingTokens = tokenLimit - totalTokens;\n                const remainingChars = remainingTokens * 4;\n                content = content.slice(0, remainingChars);\n                fileTokens = estimateTokenCount(content);\n                outputText += `## File: ${item.path} (truncated)\\n\\`\\`\\`\\n${content}\\n\\`\\`\\`\\n\\n`;\n                totalTokens += fileTokens;\n                break; // Stop processing once the limit is reached.\n            } else {\n                outputText += `## File: ${item.path}\\n\\`\\`\\`\\n${content}\\n\\`\\`\\`\\n\\n`;\n                totalTokens += fileTokens;\n            }\n        }\n        res.status(200).json({\n            text: outputText,\n            totalTokens\n        });\n    } catch (error) {\n        console.error(\"Error fetching repository:\", error);\n        res.status(500).json({\n            error: \"Internal Server Error\"\n        });\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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LFNBQVM7b0JBQUVDLGVBQWUsQ0FBQyxNQUFNLEVBQUVKLGFBQWE7Z0JBQUM7WUFDbkQ7WUFDQSxNQUFNMkIsV0FBVyxNQUFNRixRQUFRMUIsSUFBSTtZQUNuQyxJQUFJNEIsU0FBU0MsUUFBUSxLQUFLLFlBQVksQ0FBQ0QsU0FBU0UsT0FBTyxFQUFFO1lBQ3pELElBQUlBLFVBQVVDLE9BQU9DLElBQUksQ0FBQ0osU0FBU0UsT0FBTyxFQUFFLFVBQVVHLFFBQVEsQ0FBQztZQUUvRCxxQ0FBcUM7WUFDckMsSUFBSUMsYUFBYXpFLG1CQUFtQnFFO1lBQ3BDLElBQUlmLGNBQWNtQixhQUFhbEIsWUFBWTtnQkFDekMseURBQXlEO2dCQUN6RCxNQUFNbUIsa0JBQWtCbkIsYUFBYUQ7Z0JBQ3JDLE1BQU1xQixpQkFBaUJELGtCQUFrQjtnQkFDekNMLFVBQVVBLFFBQVFPLEtBQUssQ0FBQyxHQUFHRDtnQkFDM0JGLGFBQWF6RSxtQkFBbUJxRTtnQkFDaENiLGNBQWMsQ0FBQyxTQUFTLEVBQUVoRCxLQUFLRSxJQUFJLENBQUMsc0JBQXNCLEVBQUUyRCxRQUFRLFlBQVksQ0FBQztnQkFDakZmLGVBQWVtQjtnQkFDZixPQUFPLDZDQUE2QztZQUN0RCxPQUFPO2dCQUNMakIsY0FBYyxDQUFDLFNBQVMsRUFBRWhELEtBQUtFLElBQUksQ0FBQyxVQUFVLEVBQUUyRCxRQUFRLFlBQVksQ0FBQztnQkFDckVmLGVBQWVtQjtZQUNqQjtRQUNGO1FBQ0E5QyxJQUFJVyxNQUFNLENBQUMsS0FBS0MsSUFBSSxDQUFDO1lBQUV0QyxNQUFNdUQ7WUFBWUY7UUFBWTtJQUN2RCxFQUFFLE9BQU9uQixPQUFPO1FBQ2RDLFFBQVFELEtBQUssQ0FBQyw4QkFBOEJBO1FBQzVDUixJQUFJVyxNQUFNLENBQUMsS0FBS0MsSUFBSSxDQUFDO1lBQUVKLE9BQU87UUFBd0I7SUFDeEQ7QUFDRiIsInNvdXJjZXMiOlsiQzpcXFVzZXJzXFxlZ2xhc3NcXFByb2plY3RzXFxHaXRQcm9tcHRcXHBhZ2VzXFxhcGlcXGZldGNoUmVwby5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBwYWdlcy9hcGkvZmV0Y2hSZXBvLmpzXHJcbmltcG9ydCB7IGdldFNlc3Npb24gfSBmcm9tIFwibmV4dC1hdXRoL3JlYWN0XCI7XHJcblxyXG4vLyBBIHNpbXBsZSBoZWxwZXIgdG8gYXBwcm94aW1hdGUgdG9rZW4gY291bnQgKHJvdWdobHksIDEgdG9rZW4g4omIIDQgY2hhcmFjdGVycylcclxuZnVuY3Rpb24gZXN0aW1hdGVUb2tlbkNvdW50KHRleHQpIHtcclxuICByZXR1cm4gTWF0aC5jZWlsKHRleHQubGVuZ3RoIC8gNCk7XHJcbn1cclxuXHJcbi8vIEJ1aWxkIGEgbmVzdGVkIG9iamVjdCByZXByZXNlbnRpbmcgdGhlIGZvbGRlciBzdHJ1Y3R1cmUuXHJcbmZ1bmN0aW9uIGJ1aWxkRm9sZGVyVHJlZSh0cmVlKSB7XHJcbiAgY29uc3QgZm9sZGVyVHJlZSA9IHt9O1xyXG4gIGZvciAoY29uc3QgaXRlbSBvZiB0cmVlKSB7XHJcbiAgICBjb25zdCBwYXJ0cyA9IGl0ZW0ucGF0aC5zcGxpdChcIi9cIik7XHJcbiAgICBsZXQgY3VycmVudCA9IGZvbGRlclRyZWU7XHJcbiAgICBmb3IgKGNvbnN0IHBhcnQgb2YgcGFydHMpIHtcclxuICAgICAgaWYgKCFjdXJyZW50W3BhcnRdKSB7XHJcbiAgICAgICAgY3VycmVudFtwYXJ0XSA9IHt9O1xyXG4gICAgICB9XHJcbiAgICAgIGN1cnJlbnQgPSBjdXJyZW50W3BhcnRdO1xyXG4gICAgfVxyXG4gIH1cclxuICByZXR1cm4gZm9sZGVyVHJlZTtcclxufVxyXG5cclxuLy8gUmVjdXJzaXZlbHkgcmVuZGVyIHRoZSBmb2xkZXIgdHJlZSBhcyBhIHZpc3VhbCB0ZXh0IHRyZWUuXHJcbmZ1bmN0aW9uIHJlbmRlclRyZWUodHJlZSwgcHJlZml4ID0gXCJcIikge1xyXG4gIGxldCBvdXRwdXQgPSBcIlwiO1xyXG4gIGNvbnN0IGtleXMgPSBPYmplY3Qua2V5cyh0cmVlKS5zb3J0KCk7XHJcbiAga2V5cy5mb3JFYWNoKChrZXksIGluZGV4KSA9PiB7XHJcbiAgICBjb25zdCBpc0xhc3QgPSBpbmRleCA9PT0ga2V5cy5sZW5ndGggLSAxO1xyXG4gICAgb3V0cHV0ICs9IGAke3ByZWZpeH0ke2lzTGFzdCA/IFwi4pSU4pSA4pSAIFwiIDogXCLilJzilIDilIAgXCJ9JHtrZXl9XFxuYDtcclxuICAgIGNvbnN0IG5ld1ByZWZpeCA9IHByZWZpeCArIChpc0xhc3QgPyBcIiAgICBcIiA6IFwi4pSCICAgXCIpO1xyXG4gICAgb3V0cHV0ICs9IHJlbmRlclRyZWUodHJlZVtrZXldLCBuZXdQcmVmaXgpO1xyXG4gIH0pO1xyXG4gIHJldHVybiBvdXRwdXQ7XHJcbn1cclxuXHJcbmV4cG9ydCBkZWZhdWx0IGFzeW5jIGZ1bmN0aW9uIGhhbmRsZXIocmVxLCByZXMpIHtcclxuICBjb25zdCB7IG93bmVyLCByZXBvLCBicmFuY2ggfSA9IHJlcS5xdWVyeTtcclxuICAvLyBQYXJzZSBleGNsdXNpb25zIGlmIHByb3ZpZGVkIChleHBlY3RlZCBhcyBKU09OLWVuY29kZWQgYXJyYXkpLlxyXG4gIGxldCBleGNsdXNpb25zID0gW107XHJcbiAgaWYgKHJlcS5xdWVyeS5leGNsdXNpb25zKSB7XHJcbiAgICB0cnkge1xyXG4gICAgICBleGNsdXNpb25zID0gSlNPTi5wYXJzZShyZXEucXVlcnkuZXhjbHVzaW9ucyk7XHJcbiAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICBjb25zb2xlLmVycm9yKFwiRXJyb3IgcGFyc2luZyBleGNsdXNpb25zOlwiLCBlcnJvcik7XHJcbiAgICAgIGV4Y2x1c2lvbnMgPSBbXTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIGNvbnN0IHNlc3Npb24gPSBhd2FpdCBnZXRTZXNzaW9uKHsgcmVxIH0pO1xyXG4gIGlmICghc2Vzc2lvbikge1xyXG4gICAgcmV0dXJuIHJlcy5zdGF0dXMoNDAxKS5qc29uKHsgZXJyb3I6IFwiVW5hdXRob3JpemVkXCIgfSk7XHJcbiAgfVxyXG4gIGNvbnN0IGFjY2Vzc1Rva2VuID0gc2Vzc2lvbi5hY2Nlc3NUb2tlbjtcclxuXHJcbiAgdHJ5IHtcclxuICAgIC8vIDEuIEdldCBicmFuY2ggZGV0YWlscyB0byByZXRyaWV2ZSB0aGUgY29tbWl0IFNIQS5cclxuICAgIGNvbnN0IGJyYW5jaFJlcyA9IGF3YWl0IGZldGNoKFxyXG4gICAgICBgaHR0cHM6Ly9hcGkuZ2l0aHViLmNvbS9yZXBvcy8ke293bmVyfS8ke3JlcG99L2JyYW5jaGVzLyR7YnJhbmNofWAsXHJcbiAgICAgIHtcclxuICAgICAgICBoZWFkZXJzOiB7IEF1dGhvcml6YXRpb246IGB0b2tlbiAke2FjY2Vzc1Rva2VufWAgfSxcclxuICAgICAgfVxyXG4gICAgKTtcclxuICAgIGNvbnN0IGJyYW5jaERhdGEgPSBhd2FpdCBicmFuY2hSZXMuanNvbigpO1xyXG4gICAgaWYgKGJyYW5jaERhdGEubWVzc2FnZSkge1xyXG4gICAgICByZXR1cm4gcmVzLnN0YXR1cyg0MDApLmpzb24oeyBlcnJvcjogYnJhbmNoRGF0YS5tZXNzYWdlIH0pO1xyXG4gICAgfVxyXG4gICAgY29uc3QgY29tbWl0U2hhID0gYnJhbmNoRGF0YS5jb21taXQuc2hhO1xyXG5cclxuICAgIC8vIDIuIEdldCByZXBvc2l0b3J5IHRyZWUgcmVjdXJzaXZlbHkuXHJcbiAgICBjb25zdCB0cmVlUmVzID0gYXdhaXQgZmV0Y2goXHJcbiAgICAgIGBodHRwczovL2FwaS5naXRodWIuY29tL3JlcG9zLyR7b3duZXJ9LyR7cmVwb30vZ2l0L3RyZWVzLyR7Y29tbWl0U2hhfT9yZWN1cnNpdmU9MWAsXHJcbiAgICAgIHtcclxuICAgICAgICBoZWFkZXJzOiB7IEF1dGhvcml6YXRpb246IGB0b2tlbiAke2FjY2Vzc1Rva2VufWAgfSxcclxuICAgICAgfVxyXG4gICAgKTtcclxuICAgIGNvbnN0IHRyZWVEYXRhID0gYXdhaXQgdHJlZVJlcy5qc29uKCk7XHJcbiAgICBpZiAodHJlZURhdGEubWVzc2FnZSkge1xyXG4gICAgICByZXR1cm4gcmVzLnN0YXR1cyg0MDApLmpzb24oeyBlcnJvcjogdHJlZURhdGEubWVzc2FnZSB9KTtcclxuICAgIH1cclxuICAgIGNvbnN0IHRyZWUgPSB0cmVlRGF0YS50cmVlO1xyXG5cclxuICAgIC8vIDMuIEJ1aWxkIHRoZSBmb2xkZXIgc3RydWN0dXJlIG91dHB1dC5cclxuICAgIGNvbnN0IGZvbGRlclRyZWVPYmogPSBidWlsZEZvbGRlclRyZWUodHJlZSk7XHJcbiAgICBjb25zdCBmb2xkZXJTdHJ1Y3R1cmVTdHJpbmcgPSByZW5kZXJUcmVlKGZvbGRlclRyZWVPYmopO1xyXG5cclxuICAgIGxldCB0b3RhbFRva2VucyA9IDA7XHJcbiAgICBjb25zdCB0b2tlbkxpbWl0ID0gMTUwMDAwOyAvLyAxNTBrIHRva2VucyBsaW1pdFxyXG5cclxuICAgIC8vIEJlZ2luIG91dHB1dCB3aXRoIHJlcG8gZGV0YWlscyBhbmQgZm9sZGVyIHN0cnVjdHVyZSAoaW4gYSBjb2RlIGZlbmNlKS5cclxuICAgIGxldCBvdXRwdXRUZXh0ID0gYCMgUmVwb3NpdG9yeTogJHtvd25lcn0vJHtyZXBvfVxcbioqQnJhbmNoOioqICR7YnJhbmNofVxcblxcbmA7XHJcbiAgICBvdXRwdXRUZXh0ICs9IGAjIyBGb2xkZXIgU3RydWN0dXJlOlxcblxcYFxcYFxcYFxcbiR7Zm9sZGVyU3RydWN0dXJlU3RyaW5nfVxcblxcYFxcYFxcYFxcblxcbmA7XHJcblxyXG4gICAgLy8gNC4gUHJvY2VzcyBlYWNoIGZpbGUgaW4gdGhlIHJlcG9zaXRvcnkgdHJlZS5cclxuICAgIGZvciAoY29uc3QgaXRlbSBvZiB0cmVlKSB7XHJcbiAgICAgIGlmIChpdGVtLnR5cGUgIT09IFwiYmxvYlwiKSBjb250aW51ZTtcclxuICAgICAgLy8gU2tpcCBsaWtlbHkgYmluYXJ5IGZpbGVzLlxyXG4gICAgICBjb25zdCBiaW5hcnlFeHRlbnNpb25zID0gW1xyXG4gICAgICAgIFwiLnBuZ1wiLFxyXG4gICAgICAgIFwiLmpwZ1wiLFxyXG4gICAgICAgIFwiLmpwZWdcIixcclxuICAgICAgICBcIi5naWZcIixcclxuICAgICAgICBcIi5zdmdcIixcclxuICAgICAgICBcIi5pY29cIixcclxuICAgICAgICBcIi5wZGZcIixcclxuICAgICAgICBcIi5leGVcIixcclxuICAgICAgXTtcclxuICAgICAgaWYgKFxyXG4gICAgICAgIGJpbmFyeUV4dGVuc2lvbnMuc29tZSgoZXh0KSA9PlxyXG4gICAgICAgICAgaXRlbS5wYXRoLnRvTG93ZXJDYXNlKCkuZW5kc1dpdGgoZXh0KVxyXG4gICAgICAgIClcclxuICAgICAgKSB7XHJcbiAgICAgICAgY29udGludWU7XHJcbiAgICAgIH1cclxuICAgICAgLy8gU2tpcCBpZiB0aGUgZmlsZSBwYXRoIGlzIHdpdGhpbiBhbiBleGNsdWRlZCBmb2xkZXIvZmlsZS5cclxuICAgICAgaWYgKGV4Y2x1c2lvbnMuc29tZSgoZXhjbHVkZWRQYXRoKSA9PiBpdGVtLnBhdGguc3RhcnRzV2l0aChleGNsdWRlZFBhdGgpKSkge1xyXG4gICAgICAgIGNvbnRpbnVlO1xyXG4gICAgICB9XHJcbiAgICAgIC8vIEZldGNoIHRoZSBmaWxlIGNvbnRlbnQuXHJcbiAgICAgIGNvbnN0IGJsb2JSZXMgPSBhd2FpdCBmZXRjaChpdGVtLnVybCwge1xyXG4gICAgICAgIGhlYWRlcnM6IHsgQXV0aG9yaXphdGlvbjogYHRva2VuICR7YWNjZXNzVG9rZW59YCB9LFxyXG4gICAgICB9KTtcclxuICAgICAgY29uc3QgYmxvYkRhdGEgPSBhd2FpdCBibG9iUmVzLmpzb24oKTtcclxuICAgICAgaWYgKGJsb2JEYXRhLmVuY29kaW5nICE9PSBcImJhc2U2NFwiIHx8ICFibG9iRGF0YS5jb250ZW50KSBjb250aW51ZTtcclxuICAgICAgbGV0IGNvbnRlbnQgPSBCdWZmZXIuZnJvbShibG9iRGF0YS5jb250ZW50LCBcImJhc2U2NFwiKS50b1N0cmluZyhcInV0Zi04XCIpO1xyXG5cclxuICAgICAgLy8gRXN0aW1hdGUgdG9rZW4gY291bnQgZm9yIHRoZSBmaWxlLlxyXG4gICAgICBsZXQgZmlsZVRva2VucyA9IGVzdGltYXRlVG9rZW5Db3VudChjb250ZW50KTtcclxuICAgICAgaWYgKHRvdGFsVG9rZW5zICsgZmlsZVRva2VucyA+IHRva2VuTGltaXQpIHtcclxuICAgICAgICAvLyBUcnVuY2F0ZSB0aGUgZmlsZSBpZiBhZGRpbmcgaXQgd291bGQgZXhjZWVkIHRoZSBsaW1pdC5cclxuICAgICAgICBjb25zdCByZW1haW5pbmdUb2tlbnMgPSB0b2tlbkxpbWl0IC0gdG90YWxUb2tlbnM7XHJcbiAgICAgICAgY29uc3QgcmVtYWluaW5nQ2hhcnMgPSByZW1haW5pbmdUb2tlbnMgKiA0O1xyXG4gICAgICAgIGNvbnRlbnQgPSBjb250ZW50LnNsaWNlKDAsIHJlbWFpbmluZ0NoYXJzKTtcclxuICAgICAgICBmaWxlVG9rZW5zID0gZXN0aW1hdGVUb2tlbkNvdW50KGNvbnRlbnQpO1xyXG4gICAgICAgIG91dHB1dFRleHQgKz0gYCMjIEZpbGU6ICR7aXRlbS5wYXRofSAodHJ1bmNhdGVkKVxcblxcYFxcYFxcYFxcbiR7Y29udGVudH1cXG5cXGBcXGBcXGBcXG5cXG5gO1xyXG4gICAgICAgIHRvdGFsVG9rZW5zICs9IGZpbGVUb2tlbnM7XHJcbiAgICAgICAgYnJlYWs7IC8vIFN0b3AgcHJvY2Vzc2luZyBvbmNlIHRoZSBsaW1pdCBpcyByZWFjaGVkLlxyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIG91dHB1dFRleHQgKz0gYCMjIEZpbGU6ICR7aXRlbS5wYXRofVxcblxcYFxcYFxcYFxcbiR7Y29udGVudH1cXG5cXGBcXGBcXGBcXG5cXG5gO1xyXG4gICAgICAgIHRvdGFsVG9rZW5zICs9IGZpbGVUb2tlbnM7XHJcbiAgICAgIH1cclxuICAgIH1cclxuICAgIHJlcy5zdGF0dXMoMjAwKS5qc29uKHsgdGV4dDogb3V0cHV0VGV4dCwgdG90YWxUb2tlbnMgfSk7XHJcbiAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgIGNvbnNvbGUuZXJyb3IoXCJFcnJvciBmZXRjaGluZyByZXBvc2l0b3J5OlwiLCBlcnJvcik7XHJcbiAgICByZXMuc3RhdHVzKDUwMCkuanNvbih7IGVycm9yOiBcIkludGVybmFsIFNlcnZlciBFcnJvclwiIH0pO1xyXG4gIH1cclxufVxyXG4iXSwibmFtZXMiOlsiZ2V0U2Vzc2lvbiIsImVzdGltYXRlVG9rZW5Db3VudCIsInRleHQiLCJNYXRoIiwiY2VpbCIsImxlbmd0aCIsImJ1aWxkRm9sZGVyVHJlZSIsInRyZWUiLCJmb2xkZXJUcmVlIiwiaXRlbSIsInBhcnRzIiwicGF0aCIsInNwbGl0IiwiY3VycmVudCIsInBhcnQiLCJyZW5kZXJUcmVlIiwicHJlZml4Iiwib3V0cHV0Iiwia2V5cyIsIk9iamVjdCIsInNvcnQiLCJmb3JFYWNoIiwia2V5IiwiaW5kZXgiLCJpc0xhc3QiLCJuZXdQcmVmaXgiLCJoYW5kbGVyIiwicmVxIiwicmVzIiwib3duZXIiLCJyZXBvIiwiYnJhbmNoIiwicXVlcnkiLCJleGNsdXNpb25zIiwiSlNPTiIsInBhcnNlIiwiZXJyb3IiLCJjb25zb2xlIiwic2Vzc2lvbiIsInN0YXR1cyIsImpzb24iLCJhY2Nlc3NUb2tlbiIsImJyYW5jaFJlcyIsImZldGNoIiwiaGVhZGVycyIsIkF1dGhvcml6YXRpb24iLCJicmFuY2hEYXRhIiwibWVzc2FnZSIsImNvbW1pdFNoYSIsImNvbW1pdCIsInNoYSIsInRyZWVSZXMiLCJ0cmVlRGF0YSIsImZvbGRlclRyZWVPYmoiLCJmb2xkZXJTdHJ1Y3R1cmVTdHJpbmciLCJ0b3RhbFRva2VucyIsInRva2VuTGltaXQiLCJvdXRwdXRUZXh0IiwidHlwZSIsImJpbmFyeUV4dGVuc2lvbnMiLCJzb21lIiwiZXh0IiwidG9Mb3dlckNhc2UiLCJlbmRzV2l0aCIsImV4Y2x1ZGVkUGF0aCIsInN0YXJ0c1dpdGgiLCJibG9iUmVzIiwidXJsIiwiYmxvYkRhdGEiLCJlbmNvZGluZyIsImNvbnRlbnQiLCJCdWZmZXIiLCJmcm9tIiwidG9TdHJpbmciLCJmaWxlVG9rZW5zIiwicmVtYWluaW5nVG9rZW5zIiwicmVtYWluaW5nQ2hhcnMiLCJzbGljZSJdLCJpZ25vcmVMaXN0IjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(api)/./pages/api/fetchRepo.js\n");

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../../webpack-api-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = __webpack_require__.X(0, ["vendor-chunks/next"], () => (__webpack_exec__("(api)/./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES_API&page=%2Fapi%2FfetchRepo&preferredRegion=&absolutePagePath=.%2Fpages%5Capi%5CfetchRepo.js&middlewareConfigBase64=e30%3D!")));
module.exports = __webpack_exports__;

})();